{"version":3,"sources":["reducers/userReducer.js","services/health.js","utils/utils.js","services/auth.js","reducers/notificationReducer.js","services/blogs.js","reducers/blogsReducer.js","reducers/layoutReducer.js","components/AddBlogModal.js","components/SignInRequiredModal.js","components/Notification.js","components/DesktopContainer.js","components/MobileContainer.js","components/ResponsiveContainer.js","components/SignForms/UserForm.js","components/SignForms/SignInForm.js","components/SignForms/SignUpForm.js","components/Blog.js","components/Blogs.js","services/users.js","components/Users.js","components/User.js","components/FullBlog.js","components/ErrorPages/Error503.js","components/ErrorPages/Error404.js","PrivateRoute.js","AppRouter.js","App.js","store.js","index.js"],"names":["initialState","userFromLocalStorage","getUserFromLocalStorage","JSON","parse","setUser","user","type","userReducer","state","action","checkHealth","a","baseUrl","getBackendUrl","axios","get","response","data","useActualPath","useLocation","pathname","useAppLogout","history","useHistory","dispatch","useDispatch","window","localStorage","clear","push","setUserToLocalStorage","setItem","stringify","getItem","console","log","process","SignIn","credentials","post","SignUp","timeOutId","undefined","setTimedNotification","notification","time","clearTimeout","setTimeout","notificationReducer","create","newObject","token","config","headers","Authorization","catch","error","comment","id","_delete","delete","like","patch","likeBlog","blog","getState","likedBlog","getBlogs","then","blogs","blogsReducer","sort","b","likes","signInRequiredModalOpenness","openSignInRequiredModal","openness","mapDispatchToProps","createBlog","newBlog","ConnectedAddBlogModal","connect","open","close","useState","title","content","setNewBlog","appLogout","addBlog","message","author","url","Modal","onClose","onOpen","Header","Content","Form","Field","value","onChange","target","Actions","Button","color","onClick","labelPosition","icon","event","preventDefault","positive","ConnectedSignInRequiredModal","layout","globalDispatch","Notification","useSelector","messageType","messageHeader","negative","info","Message","onDismiss","NotificationBuilder","DesktopContainer","children","Media","currentPath","logout","addBlogModalOpenness","setAddBlogModalOpenness","openAddBlogModal","greaterThan","Container","Menu","fixed","size","inverted","Dropdown","item","simple","text","Item","as","active","position","Image","src","avatar","inline","name","style","marginTop","MobileContainer","sidebarOpened","setSidebarOpened","setTopBarHiden","closeSideBar","Sidebar","Pushable","at","Icon","height","transform","Sticky","animation","onHide","visible","vertical","width","username","Pusher","dimmed","createMedia","breakpoints","mobile","tablet","computer","MediaContextProvider","ResponsiveContainer","UserForm","onSubmitUser","mode","password","setPassword","Grid","textAlign","verticalAlign","Column","maxWidth","onSubmit","Segment","stacked","Input","fluid","iconPosition","placeholder","href","ConnectedLoginForm","useEffect","signInUser","signedUser","signUpUser","createdUser","Blog","location","increaseLikes","Card","floated","to","Description","extra","marginRight","includes","cursor","length","comments","ConnectedBlogs","List","map","key","getAll","Users","users","setUsers","usersService","_users","Table","unstackable","Row","HeaderCell","Body","Cell","User","userMatcher","useRouteMatch","userId","params","find","_user","Subheader","divided","relaxed","deleteBlog","ConnectedFullBlog","blogMatcher","setBlog","newComment","setNewComment","deleteConfirm","setDeleteConfirm","blogId","getBlog","_blog","_deleteBlog","addCommentHandler","commentedBlog","Confirm","onCancel","onConfirm","Comment","Group","index","Author","Text","reply","TextArea","primary","Error503","Error404","PrivateRoute","Component","component","rest","storeUser","loggedUserJSON","render","props","isUserSigned","AppRouter","path","App","setData","setError","loading","setLoading","useCheckBackendHealth","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f7fac165.chunk.js","sourcesContent":["//ToDo: check if the reloaded state is equal to an regualr state\nimport { getUserFromLocalStorage } from \"../utils/utils\"\n\nconst initialState = () => {\n  const userFromLocalStorage = getUserFromLocalStorage()\n  return userFromLocalStorage !== null ? JSON.parse(userFromLocalStorage) : null\n}\n\nconst userReducer = (state = initialState(), action) => {\n  switch (action.type) {\n  case 'SET_USER':\n    return action.user\n  default:\n    return state\n  }\n}\n\nexport const setUser = user => {\n  return {\n    type: 'SET_USER',\n    user\n  }\n}\n\nexport const reloadUser = () => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n  let user = null\n  if (loggedUserJSON)\n    user = JSON.parse(loggedUserJSON)\n\n  return {\n    type: 'SET_USER',\n    user\n  }\n}\n\nexport default userReducer","import axios from 'axios'\nimport { getBackendUrl } from '../utils/utils'\n\nconst checkHealth = async () => {\n  const baseUrl = `${getBackendUrl()}/health`\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nexport { checkHealth }","import { useEffect, useState } from \"react\"\nimport { useLocation, useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setUser } from \"../reducers/userReducer\"\nimport { checkHealth } from '../services/health'\n\nexport const useActualPath = () => {\n  const location = useLocation()\n  return location.pathname\n}\n\nexport const useAppLogout = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const logout = () => {\n    // to clear user in local storage\n    window.localStorage.clear()\n\n    // to clear user in redux store\n    dispatch(setUser(null))\n\n    history.push('/signin')\n  }\n\n  return logout\n}\n\nexport const setUserToLocalStorage = user => {\n  window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user))\n}\n\nexport const getUserFromLocalStorage = () => {\n  const storedUser = window.localStorage.getItem('loggedBlogAppUser')\n  return storedUser\n}\n\nexport const getBackendUrl = () => {\n  const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:3001'\n  console.log(`Using BackendUrl: ${backendUrl}`)\n  return backendUrl\n}\n\nexport const useCheckBackendHealth = () => {\n  const [data, setData] = useState(null)\n  const [error, setError] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    (\n      async () => {\n        try {\n          setLoading(true)\n          const response = await checkHealth()\n          setData(response)\n        }\n        catch (err) {\n          setError(err)\n        }\n        finally {\n          setLoading(false)\n        }\n      }\n    )()\n  }, [])\n\n  return { data, error, loading }\n}","import axios from 'axios'\nimport { getBackendUrl } from '../utils/utils'\n\nconst baseUrl = `${getBackendUrl()}/auth`\n\nconst SignIn = async credentials => {\n  const response = await axios.post(`${baseUrl}/signin`, credentials)\n  return response.data\n}\n\nconst SignUp = async user => {\n  const response = await axios.post(`${baseUrl}/signup`, user)\n  return response.data\n}\n\nexport { SignIn, SignUp }","const initialState = null\n\nlet timeOutId = undefined\nconst notificationReducer = (state = initialState, action) => {\n  switch (action.type) {\n  case 'SET_NOTIFICATION':\n    return action.notification\n  default:\n    return state\n  }\n}\n\nexport const setTimedNotification = (notification, time) => {\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      notification\n    })\n    if(timeOutId !== undefined) clearTimeout(timeOutId)\n    timeOutId = setTimeout(() => dispatch({\n      type: 'SET_NOTIFICATION',\n      notification: null\n    }), time)\n  }\n}\n\nexport default notificationReducer","import axios from 'axios'\nimport { getBackendUrl } from '../utils/utils'\n\nconst baseUrl = `${getBackendUrl()}/api/blogs`\n\nexport const getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport const get = id => {\n  const request = axios.get(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport const create = async (newObject, token) => {\n  const config = {\n    headers: { Authorization: `bearer ${token}` },\n  }\n\n  const response = await axios\n    .post(baseUrl, newObject, config)\n    .catch(error => {throw error.response.data.error})\n  return response.data\n}\n\nexport const comment = async (id, comment) => {\n  const response = await axios\n    .post(`${baseUrl}/${id}/comments`, comment)\n    .catch(error => {throw error.response.data.error})\n  return response.data\n}\n\nexport const update = (id, newObject) => {\n  const request = axios.put(`${ baseUrl } /${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport const patch = (id, patch) => {\n  const request = axios.patch(`${baseUrl}/${id}`, patch)\n  return request.then(response => response.data)\n}\n\nexport const _delete = async (id, token) => {\n  const config = {\n    headers: { Authorization: `bearer ${token}` },\n  }\n\n  await axios.delete(`${baseUrl}/${id}`, config)\n}\n\nexport const like = async (id, token) => {\n  const config = {\n    headers: { Authorization: `bearer ${token}` },\n  }\n\n  await axios.patch(`${baseUrl}/${id}/likes`, {}, config)\n  // ToDo: this should return the req response 2 avoid reloading all the vlogs once the 'like' req is complete\n}\n","import { create, patch, _delete, getAll, like } from '../services/blogs'\n\nconst blogsReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'NEW_BLOG':\n    return state\n  case 'LIKE_BLOG':\n    return state\n  case 'DELETE_BLOG':\n    return state\n  case 'GET_BLOGS':\n    return action.data.sort((a, b)  => b.likes - a.likes)\n  default: return state\n  }\n}\n\nexport const createBlog = blog => {\n  return async (dispatch, getState) => {\n    const token = getState().user.token\n    const newBlog = await create(blog, token)\n    dispatch({\n      type: 'NEW_BLOG',\n      data: newBlog,\n    })\n  }\n}\n\n// ToDo: use axios interceptors to include the token automatically\nexport const likeBlog = blog => {\n  return async (dispatch, getState) => {\n    const token = getState().user.token\n    const likedBlog = await like(blog.id, token)\n    dispatch({\n      type: 'LIKE_BLOG',\n      data: likedBlog\n    })\n  }\n}\n\nexport const deleteBlog = blog => {\n  return async (dispatch, getState) => {\n    const token = getState().user.token\n    await _delete(blog.id, token)\n    dispatch({\n      type: 'DELETE_BLOG',\n      data: blog\n    })\n  }\n}\n\nexport const getBlogs = () => {\n  return async dispatch => {\n    const blogs = await getAll()\n    dispatch({\n      type: 'GET_BLOGS',\n      data: blogs,\n    })\n  }\n}\n\nexport default blogsReducer","const initialState = {\n\tsignInRequiredModalOpenness: false\n}\n\nexport const layoutReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase 'SET_SIGNIN_REQUIRED_MODAL_OPENNESS':\n\t\t\treturn {...state, signInRequiredModalOpenness: action.openness}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const openSignInRequiredModal = () => {\n\treturn {\n\t\ttype: 'SET_SIGNIN_REQUIRED_MODAL_OPENNESS',\n\t\topenness: true\n\t}\n}\n\nexport const closeSignInRequiredModal = () => {\n\treturn {\n\t\ttype: 'SET_SIGNIN_REQUIRED_MODAL_OPENNESS',\n\t\topenness: false\n\t}\n}\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { setTimedNotification } from '../reducers/notificationReducer'\nimport { getBlogs, createBlog } from '../reducers/blogsReducer'\nimport { Button, Form, Modal } from 'semantic-ui-react'\nimport { useAppLogout } from '../utils/utils'\n\nconst AddBlogModal = ({ user, openness, open, close, setTimedNotification, getBlogs, createBlog }) => {\n  const [newBlog, setNewBlog] = useState({ title: '', content: '' })\n  const history = useHistory()\n  const appLogout = useAppLogout()\n\n  const addBlog = async () => {\n    try {\n      setTimedNotification({ type: 'OK', message: `new blog ${newBlog.title} is being added` }, 5000)\n      await createBlog(newBlog)\n      setNewBlog({ author: '', title: '', url: '' })\n      getBlogs()\n    }\n    catch (error) {\n      // ToDo: move this jwt expiration check to services or function in a container comp or client/axios interceptor?\n      if (error === 'jwt expired') {\n        setNewBlog({ author: '', title: '', url: '' })\n        appLogout();\n        setTimedNotification({ type: 'ERROR', message: 'Expired session' }, 5000)\n      }\n      else setTimedNotification({ type: 'ERROR', message: error }, 5000)\n    }\n  }\n\n  return (\n    <Modal\n      onClose={() => close()}\n      onOpen={() => open()}\n      open={openness}>\n      <Modal.Header>Add blog</Modal.Header>\n      <Modal.Content>\n        <Form>\n          <Form.Field>\n            <label>Title</label>\n            <input\n              value={newBlog.title}\n              onChange={({ target }) => setNewBlog({ ...newBlog, title: target.value })} />\n          </Form.Field>\n          <Form.Field>\n            <label>Content</label>\n            <input\n              value={newBlog.content}\n              onChange={({ target }) => setNewBlog({ ...newBlog, content: target.value })} />\n          </Form.Field>\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          color='black'\n          onClick={() => close()}> Cancel\n        </Button>\n        <Button\n          content=\"Save\"\n          labelPosition='right'\n          icon='checkmark'\n          onClick={event => {\n            if (user) {\n              event.preventDefault()\n              addBlog()\n              close()\n            }\n            else history.push('/signin')\n          }} positive />\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = {\n  setTimedNotification,\n  getBlogs,\n  createBlog,\n  //setUser\n}\n\nconst ConnectedAddBlogModal = connect(mapStateToProps, mapDispatchToProps)(AddBlogModal)\nexport default ConnectedAddBlogModal","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { openSignInRequiredModal, closeSignInRequiredModal } from '../reducers/layoutReducer'\nimport { Button, Modal } from 'semantic-ui-react'\n\nconst SignInRequiredModal = ({ openness, open, close }) => {\n\tconst history = useHistory()\n\n\treturn (\n\t\t<Modal\n\t\t\topen={openness}\n\t\t\tonClose={() => close()}\n\t\t\tonOpen={() => open()}>\n\t\t\t<Modal.Header>Sign in required</Modal.Header>\n\t\t\t<Modal.Actions>\n\t\t\t\t<Button\n\t\t\t\t\tcolor='black'\n\t\t\t\t\tonClick={() => close()}> Cancel\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tcontent='Sign in'\n\t\t\t\t\tlabelPosition='right'\n\t\t\t\t\ticon='checkmark'\n\t\t\t\t\tonClick={event => {\n\t\t\t\t\t\tclose()\n\t\t\t\t\t\thistory.push('/signin')\n\t\t\t\t\t}} positive />\n\t\t\t</Modal.Actions>\n\t\t</Modal>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\topenness: state.layout.signInRequiredModalOpenness\n\t}\n}\n\nconst mapDispatchToProps = {\n\topen: openSignInRequiredModal,\n\tclose: closeSignInRequiredModal\n}\n\nconst ConnectedSignInRequiredModal = connect(mapStateToProps, mapDispatchToProps)(SignInRequiredModal)\nexport default ConnectedSignInRequiredModal","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Message } from 'semantic-ui-react'\n\nlet globalDispatch = null\nconst NotificationBuilder = (type, message) => {\n  let messageType = null\n  let messageHeader = ''\n  switch(type){\n  case 'ERROR': {\n    messageType = { negative: true }\n    messageHeader = 'Error'\n    break\n  }\n  case 'OK': {\n    messageType = { positive: true }\n    messageHeader = 'Success'\n    break\n  }\n  default: {\n    messageType = { info: true }\n    messageHeader = 'Info'\n    break\n  }\n  }\n\n  return (\n    <Message {...messageType} onDismiss={() => globalDispatch({ type: 'SET_NOTIFICATION', notification: null })}>\n      <Message.Header>{messageHeader}</Message.Header>\n      <p>{message}</p>\n    </Message>)\n}\n\nconst Notification = () => {\n  globalDispatch = useDispatch()\n  const notification = useSelector(state => state.notification)\n\n  return notification !== undefined && notification !== null && notification.message !== '' ?\n    NotificationBuilder(notification.type, notification.message) :\n    <></>\n}\n\nexport default Notification","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport {\n  Container,\n  Image,\n  Menu,\n  Dropdown\n} from 'semantic-ui-react'\nimport { useActualPath } from '../utils/utils'\nimport { openSignInRequiredModal, closeSignInRequiredModal} from '../reducers/layoutReducer'\nimport AddBlogModal from './AddBlogModal'\nimport SignInRequiredModal from './SignInRequiredModal'\nimport Notification from './Notification'\nimport { useAppLogout } from '../utils/utils'\n\nconst DesktopContainer = ({ children, Media }) => {\n  const currentPath = useActualPath()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const logout = useAppLogout()\n\n  const [addBlogModalOpenness, setAddBlogModalOpenness] = useState(false)\n  const openAddBlogModal = () => setAddBlogModalOpenness(true)\n  const closeAddBlogModal = () => setAddBlogModalOpenness(false)\n\n  return (\n    <Media greaterThan='mobile'>\n      <AddBlogModal\n        openness={addBlogModalOpenness}\n        open={openAddBlogModal}\n        close={closeAddBlogModal} />\n      <SignInRequiredModal />\n      {currentPath !== '/signin' && currentPath !== '/signup' &&\n      <Container>\n        <Menu\n          fixed='top'\n          size='large'\n          inverted>\n          <Container>\n            <Dropdown item simple text='Blogs' onClick={() => { history.push('/blogs') }}>\n              <Dropdown.Menu>\n                <Dropdown.Item onClick={() => {\n                  if(!!user) openAddBlogModal()\n                  else dispatch(openSignInRequiredModal())\n                }}>Add blog</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n            <Menu.Item\n              as='a'\n              active={currentPath === '/users'}\n              onClick={() => { history.push('/users') }}> Users\n            </Menu.Item>\n            {user ?\n            <Menu.Item position='right'>\n              <Image src='https://react.semantic-ui.com/images/avatar/large/patrick.png' avatar />\n              <span>\n                <Dropdown\n                  // item\n                  // simple\n                  inline\n                  text={user === null ? '' : user.name}>\n                  <Dropdown.Menu>\n                    <Dropdown.Item text='Logout' onClick={() => {logout()}} />\n                  </Dropdown.Menu>\n                </Dropdown>\n              </span>\n            </Menu.Item>:\n            <Menu.Item\n              position='right'\n              as='a'\n              onClick={() => {\n                history.push('/signin')\n              }}> Sign in\n            </Menu.Item>}\n          </Container>\n        </Menu>\n        {/* <HomepageHeading /> */}\n      </Container>}\n      <Container style={{ marginTop: '65px' }} inverted>\n        {children}\n        <Notification />\n      </Container>\n    </Media>\n  )\n}\n\nexport default DesktopContainer","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport {\n  Icon,\n  Image,\n  Menu,\n  Sidebar,\n  Container,\n  Sticky\n} from 'semantic-ui-react'\nimport { useActualPath } from '../utils/utils'\nimport { setUser } from '../reducers/userReducer'\nimport { openSignInRequiredModal, closeSignInRequiredModal } from '../reducers/layoutReducer'\nimport AddBlogModal from './AddBlogModal'\nimport SignInRequiredModal from './SignInRequiredModal'\nimport Notification from './Notification'\n\nconst MobileContainer = ({ children, Media }) => {\n  const [sidebarOpened, setSidebarOpened] = useState(false)\n  const [topBarHiden, setTopBarHiden] = useState(false)\n  const closeSideBar = () => {\n    setSidebarOpened(false)\n    setTopBarHiden(false)\n  }\n  const openSideBar = () => {\n    setSidebarOpened(true)\n    setTopBarHiden(true)\n  }\n  const currentPath = useActualPath()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const [addBlogModalOpenness, setAddBlogModalOpenness] = useState(false)\n  const openAddBlogModal = () => setAddBlogModalOpenness(true)\n  const closeAddBlogModal = () => setAddBlogModalOpenness(false)\n\n  const logout = () => {\n    window.localStorage.clear()\n    dispatch(setUser(null))\n    setSidebarOpened(false)\n    history.push('/signin')\n  }\n\n  return (\n    <Media as={Sidebar.Pushable} at='mobile'>\n      <AddBlogModal\n        openness={addBlogModalOpenness}\n        open={openAddBlogModal}\n        close={closeAddBlogModal} />\n      <SignInRequiredModal />\n      {currentPath !== '/signin' && currentPath !== '/signup' &&\n      <Container>\n        <Menu inverted fixed='top'>\n          <Menu.Item onClick={() => { openSideBar() }}>\n            <Icon name='sidebar' />\n          </Menu.Item>\n          <Menu.Item\n            position='right'\n            onClick={() => {\n              if(!!user) setAddBlogModalOpenness(true)\n              else dispatch(openSignInRequiredModal())\n            }}>\n            <Icon name='add' /> Add blog </Menu.Item>\n        </Menu>\n      </Container>}\n      <Sidebar.Pushable style={{ height: '100vh', transform: 'none' }}>\n        <Sticky>\n          <Sidebar\n            as={Menu}\n            animation='overlay'\n            onHide={closeSideBar}\n            visible={sidebarOpened}\n            inverted vertical\n            width='thin'>\n            {user &&\n            <Menu.Item\n              as='div'\n              onClick={() => {closeSideBar()}}>\n              <Image src='https://react.semantic-ui.com/images/avatar/large/patrick.png' avatar />\n              {user === null? '' : user.username}\n            </Menu.Item>}\n            <Menu.Item\n              as='a'\n              onClick={() => {\n                closeSideBar()\n                history.push('/blogs')}}\n              active={currentPath === '/'}> Blogs\n            </Menu.Item>\n            <Menu.Item\n              as='a'\n              onClick={() => {\n                closeSideBar()\n                history.push('/users')}}\n              active={currentPath === '/users'}> Users\n            </Menu.Item>\n            {user ?\n            <Menu.Item\n              as='a'\n              onClick={logout}> Log out\n            </Menu.Item> :\n            <Menu.Item\n              as='a'\n              onClick={() => {history.push('/signin')}}> Sign in\n            </Menu.Item>}\n          </Sidebar>\n        </Sticky>\n        <Sidebar.Pusher dimmed={sidebarOpened}>\n          <Container style={{ marginTop: '50px' }}>\n            <Notification />\n            {children}\n          </Container>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </Media>\n  )\n}\n\nexport default MobileContainer","/* eslint-disable max-classes-per-file */\n/* eslint-disable react/no-multi-comp */\n\nimport { createMedia } from '@artsy/fresnel'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nimport DesktopContainer from './DesktopContainer'\nimport MobileContainer from './MobileContainer'\n\nconst { MediaContextProvider, Media } = createMedia({\n  breakpoints: {\n    mobile: 0,\n    tablet: 768,\n    computer: 1024,\n  },\n})\n\n/* Heads up!\n * HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled\n * components for such things.\n */\n\n/* Heads up!\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\n * It can be more complicated, but you can create really flexible markup.\n */\n\nconst ResponsiveContainer = ({ children }) => (\n  /* Heads up!\n     * For large applications it may not be best option to put all page into these containers at\n     * they will be rendered twice for SSR.\n     */\n  <MediaContextProvider>\n    <DesktopContainer Media={Media}>\n      {children}\n    </DesktopContainer>\n    <MobileContainer Media={Media}>\n      {children}\n      {/* <Container style={{minheight: '100vh'}}>\n            </Container> */}\n    </MobileContainer>\n  </MediaContextProvider>\n)\n\nResponsiveContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default ResponsiveContainer","import React, { useState, useEffect } from 'react'\nimport { Button, Form, Grid, Header, Segment, Message } from 'semantic-ui-react'\nimport ResponsiveContainer from '../ResponsiveContainer'\n\nconst UserForm = ({onSubmitUser, mode}) => {\n  const [user, setUser] = useState('')\n  const [password, setPassword] = useState('')\n\n  if(mode === 'Sign In' || mode === 'Sign Up'){\n    return (\n      <ResponsiveContainer>\n        <Grid textAlign='center' verticalAlign='middle'>\n          <Grid.Column style={{ maxWidth: 450 }}>\n            <Header as='h2' color='teal' textAlign='center'>\n              {/* <Image src='/logo.png' /> */}\n              BlogList {mode}\n            </Header>\n            {/* ToDo: validation for this form */}\n            <Form size='large' onSubmit={(event) => {\n              event.preventDefault()\n              onSubmitUser(user, password)\n            }}>\n              <Segment stacked>\n                <Form.Input\n                  fluid\n                  icon='user'\n                  iconPosition='left'\n                  placeholder='User'\n                  value={user}\n                  onChange={({ target }) => setUser(target.value)} />\n                <Form.Input\n                  fluid\n                  icon='lock'\n                  iconPosition='left'\n                  placeholder='Password'\n                  type='password'\n                  value={password}\n                  onChange={({ target }) => setPassword(target.value)} />\n                <Button\n                  color='teal'\n                  fluid\n                  size='large'\n                  type=\"submit\"> {mode}\n                </Button>\n              </Segment>\n            </Form>\n            {mode === \"Sign In\" ?\n            <Message>New to us? <a href='/signup'>Sign Up</a></Message> :\n            <Message>Already registered? <a href='/signin'>Sign In</a></Message>}\n          </Grid.Column>\n        </Grid>\n      </ResponsiveContainer>\n    )\n  }\n}\n\nexport default UserForm","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { SignIn } from '../../services/auth'\nimport { setUser } from '../../reducers/userReducer'\nimport { setTimedNotification } from '../../reducers/notificationReducer'\nimport { getBlogs } from '../../reducers/blogsReducer'\nimport { getUserFromLocalStorage, setUserToLocalStorage } from '../../utils/utils'\nimport UserForm from './UserForm'\n\nconst SignInForm = ({ user, setUser, setTimedNotification, getBlogs }) => {\n  const history = useHistory()\n  \n  useEffect(() => {\n    if (!!getUserFromLocalStorage() || user) history.push('/blogs')\n  }, [user])\n\n  const signInUser = async (user, password) => {\n    try {\n      const signedUser = await SignIn({ username: user, password })\n      setUserToLocalStorage(signedUser)\n      setUser(signedUser)\n      getBlogs()\n    }\n    catch (exception) {\n      setTimedNotification({ type: 'ERROR', message: 'Wrong credentials' }, 5000)\n    }\n  }\n\n  return (\n    <UserForm onSubmitUser={signInUser} mode=\"Sign In\"/>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = {\n  setTimedNotification,\n  setUser,\n  getBlogs\n}\n\nconst ConnectedLoginForm = connect(mapStateToProps, mapDispatchToProps)(SignInForm)\nexport default ConnectedLoginForm\n","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { SignUp } from '../../services/auth'\nimport { setUser } from '../../reducers/userReducer'\nimport { setTimedNotification } from '../../reducers/notificationReducer'\nimport { getUserFromLocalStorage, setUserToLocalStorage } from '../../utils/utils'\nimport UserForm from './UserForm'\n\nconst SignUpForm = ({ user, setUser, setTimedNotification }) => {\n  const history = useHistory()\n  useEffect(() => {\n    if (!!getUserFromLocalStorage() || user) history.push('/blogs')\n  }, [user])\n\n  const signUpUser = async (user, password) => {\n    try {\n      const createdUser = await SignUp({ username: user, password })\n      setUserToLocalStorage(createdUser)\n      setUser(createdUser)\n      history.push('/blogs')\n    }\n    catch (exception) {\n      setTimedNotification({ type: 'ERROR', message: 'Error creating user' }, 5000)\n    }\n  }\n\n  return (\n    <UserForm onSubmitUser={signUpUser} mode=\"Sign Up\"/>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = {\n  setTimedNotification,\n  setUser\n}\n\nconst ConnectedLoginForm = connect(mapStateToProps, mapDispatchToProps)(SignUpForm)\nexport default ConnectedLoginForm\n","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { likeBlog, getBlogs } from '../reducers/blogsReducer'\nimport { openSignInRequiredModal } from '../reducers/layoutReducer'\nimport { Image, Card, Icon } from 'semantic-ui-react'\nimport { useLocation } from 'react-router-dom';\n\nconst Blog = ({ blog, signedUser }) => {\n  const history = useHistory()\n  const location = useLocation()\n  const dispatch = useDispatch()\n\n  const increaseLikes = async blog => {\n    if(signedUser){\n      await dispatch(likeBlog(blog))\n      // ToDo: avoid reloading all blogs foreach like req\n      dispatch(getBlogs())\n    }\n    else dispatch(openSignInRequiredModal())\n  }\n\n  return blog !== null ?\n    <Card fluid>\n      <Card.Content>\n        <Image\n          floated='right'\n          size='mini'\n          src='https://react.semantic-ui.com/images/avatar/large/steve.jpg'/>\n        <Card.Header>\n          <Link\n            onClick={()=>{\n              if(!signedUser) dispatch(openSignInRequiredModal())\n            }}\n            to={signedUser ? `/users/${blog.user.id}` : location.pathname}> {blog.user.username}\n          </Link>\n        </Card.Header>\n        <Card.Description>{blog.title}</Card.Description>\n      </Card.Content>\n      <Card.Content extra>\n        <span style={{ marginRight: 10 }}>\n          <Icon\n            name={blog.likes.includes(signedUser?.id) ? 'thumbs up' : 'thumbs up outline'}\n            style={{ cursor: 'pointer' }}\n            onClick={() => { increaseLikes(blog) }}/> {blog.likes.length}\n        </span>\n        <span>\n          <Icon\n            name='comments'\n            style={{ cursor: 'pointer' }}\n            onClick={() => { history.push(`/blogs/${blog.id}`) }}/> {blog.comments.length}\n        </span>\n      </Card.Content>\n    </Card>:\n    <></>\n}\n\nexport default Blog","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { getBlogs } from '../reducers/blogsReducer'\nimport { List } from 'semantic-ui-react'\nimport Blog from './Blog'\nimport ResponsiveContainer from './ResponsiveContainer'\n\nconst Blogs = ({ blogs, user, getBlogs }) => {\n\n  useEffect(() => {\n    getBlogs()\n  }, [])\n\n  return (\n    <ResponsiveContainer>\n      <List>\n        {blogs.map(blog =>\n        <Blog blog={blog} signedUser={user} key={blog.id}/>)}\n      </List>\n    </ResponsiveContainer>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    blogs: state.blogs,\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = {\n  getBlogs\n}\n\nconst ConnectedBlogs = connect(mapStateToProps, mapDispatchToProps)(Blogs)\nexport default ConnectedBlogs","import axios from 'axios'\nimport { getBackendUrl } from '../utils/utils'\n\nconst baseUrl = `${getBackendUrl()}/api/users`\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nexport default { getAll }","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport usersService from '../services/users'\nimport { Header, Table } from 'semantic-ui-react'\nimport ResponsiveContainer from './ResponsiveContainer'\n\nconst Users = () => {\n  const [users, setUsers] = useState([])\n\n  useEffect(() => {\n    usersService\n      .getAll()\n      .then(_users => setUsers(_users))\n  }, [])\n\n  return (\n    <ResponsiveContainer>\n      <Table unstackable={true} style={{ height: '100vh' }}>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>User</Table.HeaderCell>\n            <Table.HeaderCell>Posted blogs</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {users.map(user =>\n            <Table.Row key={user.id}>\n              <Table.Cell>\n                <Header as='h4'>\n                  <Header.Content>\n                    <Link to={`/users/${user.id}`}>{user.username}</Link>\n                  </Header.Content>\n                </Header>\n              </Table.Cell>\n              <Table.Cell>{user.blogs.length}</Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n      </Table>\n    </ResponsiveContainer>\n  )\n}\n\nexport default Users","import React, { useEffect, useState } from 'react'\nimport { Link, useRouteMatch } from 'react-router-dom'\nimport { Header, Container, List } from 'semantic-ui-react'\nimport usersService from '../services/users'\nimport ResponsiveContainer from './ResponsiveContainer'\n\nconst User = () => {\n  const [user, setUser] = useState(null)\n  const userMatcher = useRouteMatch('/users/:id')\n\n  useEffect(() => {\n    const userId = userMatcher ?\n      userMatcher.params.id : null\n    usersService\n      .getAll()\n      .then(users => {\n        const user = users.find(_user => _user.id === userId)\n        setUser(user)\n      })\n  }, [])\n\n  return(\n    user ?\n      <ResponsiveContainer>\n        <Container style={{ height: '100vh' }}>\n          <Header>{user.name}</Header>\n          <Header.Subheader>Added blogs:</Header.Subheader>\n          <ul>\n            <List divided relaxed>\n              {user.blogs.map(blog =>\n              <List.Item key={blog.id}>\n                <List.Content>\n                  <List.Header>\n                    <Link to={`/blogs/${blog.id}`}>\n                      {blog.title}\n                    </Link>\n                  </List.Header>\n                </List.Content>\n              </List.Item>)}\n            </List>\n          </ul>\n        </Container>\n      </ResponsiveContainer> :\n      null\n  )\n}\n\nexport default User","import React, { useEffect, useState } from 'react'\nimport { useRouteMatch, useHistory } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Button, Container, Header, Comment, Form, Confirm } from 'semantic-ui-react'\nimport { get, comment } from '../services/blogs'\nimport { deleteBlog, getBlogs } from '../reducers/blogsReducer'\nimport { openSignInRequiredModal } from '../reducers/layoutReducer'\nimport Blog from './Blog'\nimport ResponsiveContainer from './ResponsiveContainer'\n\nconst FullBlog = ({ deleteBlog, getBlogs, blogs, user, openSignInRequiredModal }) => {\n  // ToDo: Split this into container comp and representational comp\n  const history = useHistory()\n  const blogMatcher = useRouteMatch('/blogs/:id')\n  const [blog, setBlog] = useState(null)\n  const [newComment, setNewComment] = useState('')\n  const [deleteConfirm, setDeleteConfirm] = useState(false)\n\n  useEffect(() => {\n    const blogId = blogMatcher ? blogMatcher.params.id : null\n    getBlog(blogId).then(_blog => { setBlog(_blog) })\n  }, [blogs])\n\n  const getBlog = blogId => get(blogId)\n      .then(_blog => _blog)\n      .catch(() => {history.push('/')})\n\n  const _deleteBlog = async () => {\n    try{\n      await deleteBlog(blog)\n      await getBlogs()\n      history.push('/')\n      setDeleteConfirm(false)\n    }\n    catch(error){\n      console.log(error)\n      setDeleteConfirm(false)\n      window.localStorage.clear()\n      history.push('/signin')\n    }\n  }\n\n  const addCommentHandler = async event => {\n    if(!!user){\n      event.preventDefault()\n      let commentedBlog = await comment(blog.id, { comment: newComment })\n      setBlog(commentedBlog)\n      setNewComment('')\n    }\n    else{\n      openSignInRequiredModal()\n    }\n  }\n\n  let logedUser = JSON.parse(window.localStorage.getItem('loggedBlogAppUser'))\n\n  return blog !== null ?\n    <ResponsiveContainer>\n      <Container>\n        <Confirm\n          open={deleteConfirm}\n          onCancel={() => {setDeleteConfirm(false)}}\n          onConfirm={_deleteBlog}/>\n        <Blog blog={blog} signedUser={user}/>\n        <Comment.Group>\n          <Header as='h3'> Comments: </Header>\n          {blog.comments.map((comment, index) =>\n          <Comment key={comment+index}>\n            <Comment.Content>\n              <Comment.Author as='a'>{blog.user.username}</Comment.Author>\n              <Comment.Text>{comment}</Comment.Text>\n            </Comment.Content>\n          </Comment>)}\n          {!!user &&\n          <Form reply>\n            <Form.TextArea\n              value={newComment}\n              onChange={event => {\n                event.preventDefault()\n                setNewComment(event.target.value)\n              }} />\n            <Button\n              primary\n              content='Add comment'\n              labelPosition='left'\n              icon='edit'\n              onClick={addCommentHandler}/>\n          </Form>}\n        </Comment.Group>\n        {user && blog?.user?.id === user?.id &&\n        <Button\n          content='Delete blog'\n          labelPosition='left'\n          icon='trash'\n          primary\n          onClick={() => {setDeleteConfirm(true)}}/>}\n      </Container>\n    </ResponsiveContainer> :\n    <></>\n}\n\nconst mapStateToProps = state => {\n  return {\n    blogs: state.blogs,\n    user: state.user,\n    layout: state.layout\n  }\n}\n\nconst mapDispatchToProps = {\n  deleteBlog,\n  getBlogs,\n  openSignInRequiredModal\n}\n\nconst ConnectedFullBlog = connect(mapStateToProps, mapDispatchToProps)(FullBlog)\nexport default ConnectedFullBlog","import React from 'react'\nimport { Message } from 'semantic-ui-react'\n\nconst Error503 = () =>\n  <Message>\n    <Message.Header>Error 503.</Message.Header>\n    <p>Couldn't reach the backend service.</p>\n  </Message>\n\nexport default Error503","import React from 'react'\nimport { Message } from 'semantic-ui-react'\n\nconst Error404 = () =>\n  <Message>\n    <Message.Header>Error 404.</Message.Header>\n    <p>Page not found.</p>\n  </Message>\n\nexport default Error404","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setUser } from './reducers/userReducer'\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const dispatch = useDispatch()\n\n  const storeUser = useSelector(state => state.user)\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n\n  const isUserSigned = () => {\n    if (storeUser) return true\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      dispatch(setUser(user))\n      return true\n    }\n\n    return false\n  }\n\n  // ToDo: in case of not signed show notification\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isUserSigned() ?\n          (<Component {...props} />) :\n          (<Redirect to=\"/signin\" />)\n      }\n    />\n  )\n}\n\nexport default PrivateRoute","import React from 'react'\nimport { Switch, Route, BrowserRouter as Router, Redirect } from 'react-router-dom'\nimport SignInForm from './components/SignForms//SignInForm'\nimport SignUpForm from './components/SignForms/SignUpForm'\nimport Blogs from './components/Blogs'\nimport Users from './components/Users'\nimport User from './components/User'\nimport FullBlog from './components/FullBlog'\nimport Error503 from './components/ErrorPages/Error503'\nimport Error404 from './components/ErrorPages/Error404'\nimport PrivateRoute from './PrivateRoute'\n\nconst AppRouter = () => {\n  return(\n    <Router>\n      <Switch>\n        <Route path='/signin'>\n          <SignInForm />\n        </Route>\n        <Route path='/signup'>\n          <SignUpForm />\n        </Route>\n        <Route path='/blogs/:id' >\n          <FullBlog />\n        </Route>\n        <Route path='/blogs'>\n          <Blogs />\n        </Route>\n        <PrivateRoute path='/users/:id' component={User}/>\n        <PrivateRoute path='/users' component={Users}/>\n        <Route path='/503'>\n          <Error503 />\n        </Route>\n        <Route path='*'>\n          <Error404/>\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default AppRouter","import React from 'react'\nimport AppRouter from './AppRouter'\nimport { useCheckBackendHealth } from './utils/utils'\nimport Error503 from './components/ErrorPages/Error503'\n\nconst App = () => {\n\tconst { data, error, loading } = useCheckBackendHealth()\n\t\n\tif(loading) return (\n\t\t<p>Checking backend...</p>\n\t)\n\n\tif(error) return (\n\t\t<Error503 />\n\t)\n\n\treturn (\n\t\t<AppRouter />\n\t)\n}\n\nexport default App","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport blogsReducer from './reducers/blogsReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport userReducer from './reducers/userReducer'\nimport { layoutReducer } from './reducers/layoutReducer'\n\nconst reducer = combineReducers({\n  blogs: blogsReducer,\n  notification: notificationReducer,\n  user: userReducer,\n  layout: layoutReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\nconsole.log('initial store:', store.getState())\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport AppRouter from './AppRouter'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'))"],"sourceRoot":""}